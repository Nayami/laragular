{"version":3,"sources":["module.js","DashboardController.js","appConst.js","ServiceHelpers.js","UsersController.js","AsideController.js","dashboard-script.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dashboard-script.js","sourcesContent":["/**\r\n * Dashboard Content module\r\n */\r\n\r\n;(function() {\r\n\t\"use strict\";\r\n\r\n\tangular.module('dashboardModule',[\r\n\t\t'ngRoute',\r\n\t\t'ngResource',\r\n\t\t'ngAnimate'\r\n\t])\r\n\t\t.config(dashboardConfig);\r\n\r\n\tdashboardConfig.$inject = ['$routeProvider'];\r\n\tfunction dashboardConfig($routeProvider){\r\n\r\n\t\t$routeProvider\r\n\t\t\t.when('/', {\r\n\t\t\t\ttemplateUrl: 'ngviews/dashboard.html',\r\n\t\t\t\tcontroller : 'DashboardController'\r\n\t\t\t})\r\n\t\t\t.when('/users/:user_id?', {\r\n\t\t\t\ttemplateUrl: 'ngviews/users.html',\r\n\t\t\t\tcontroller : 'UsersController'\r\n\t\t\t})\r\n\t\t\t.otherwise({\r\n\t\t\t\tredirectTo : '/'\r\n\t\t\t})\r\n\t}\r\n\r\n})();",";(function() {\r\n\t\"use strict\";\r\n\r\n\tangular.module('dashboardModule')\r\n\t\t.controller('DashboardController', DashboardController);\r\n\r\n\tDashboardController.$inject = ['$scope', '$http'];\r\n\tfunction DashboardController($scope, $http) {\r\n\t\t$scope.settings = false;\r\n\r\n\t\t//$http.get('api/settings')\r\n\t\t//\t.success(function(settings) {$scope.settings = true;})\r\n\t\t//\t.error(function() {$scope.user = false;});\r\n\t}\r\n\r\n})();",";(function() {\r\n\t\"use strict\";\r\n\r\n\tvar modalAlert = function(itemClass, msg) {\r\n\t\treturn \"\\\r\n\t\t\t<div class='alert-backdrop'>\\\r\n\t\t\t\t<div class='alert alert-\" + itemClass + \"'>\\\r\n\t\t\t\t<p>\" + msg + \"</p>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t</div>\";\r\n\t},\r\n\t\tmodalConfirm = function(confirmid, itemClass, msg) {\r\n\t\t\treturn \"\\\r\n\t\t\t<div class='alert-backdrop' id='\"+confirmid+\"'>\\\r\n\t\t\t\t<div class='alert alert-\" + itemClass + \"'>\\\r\n\t\t\t\t<h2>\" + msg + \"</h2>\\\r\n\t\t\t\t<div class='btn-group btn-group-justified' role='group'>\\\r\n\t\t\t\t\t<div class='btn-group' role='group'>\\\r\n\t\t\t\t\t\t<button data-confirm='confirm' type='button' class='btn btn-default'>I'm sure</button>\\\r\n\t\t\t\t\t</div>\\\r\n\t\t\t\t\t<div class='btn-group' role='group'>\\\r\n\t\t\t\t\t\t<button data-confirm='cancel' type='button' class='btn btn-default'>I've changed my mind</button>\\\r\n\t\t\t\t\t</div>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t</div>\";\r\n\t\t};\r\n\r\n\r\n\tangular.module('dashboardModule')\r\n\t\t.constant('appConst', {\r\n\t\t\tcsrf            : angular.element.find('meta[name=\"csrf-roken\"]')[0].content,\r\n\t\t\tlaunchModalAlert: function(itemClass, msg) {\r\n\t\t\t\tvar bodyElem = angular.element('body');\r\n\t\t\t\tbodyElem.prepend(modalAlert(itemClass, msg));\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tbodyElem.find('.alert-backdrop').addClass('show');\r\n\t\t\t\t}, 100);\r\n\t\t\t},\r\n\t\t\tmodalConfirm : function(confirmid, itemClass, msg){\r\n\t\t\t\tvar bodyElem = angular.element('body');\r\n\t\t\t\tbodyElem.prepend(modalConfirm(confirmid, itemClass, msg));\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tbodyElem.find('.alert-backdrop').addClass('show');\r\n\t\t\t\t}, 100);\r\n\t\t\t},\r\n\t\t\tdetachModalEvent: function(modal) {\r\n\t\t\t\tvar modalOverlay = angular.element(modal),\r\n\t\t\t\t\trelatedTrigger = angular.element('[data-related-modal=\"' + modal + '\"]') || null,\r\n\t\t\t\t\ttype = relatedTrigger.length > 0 ? relatedTrigger.attr('data-modal-trigger') : null;\r\n\r\n\t\t\t\tmodalOverlay.removeClass('show');\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tmodalOverlay.css('display', 'none');\r\n\t\t\t\t\tangular.element(window).trigger('aaModalClosed', [type, relatedTrigger])\r\n\t\t\t\t}, 300);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n})();",";(function() {\r\n\t\"use strict\";\r\n\r\n\r\n\tangular.module('dashboardModule')\r\n\t\t.factory('ServiceHelpers', ServiceHelpers);\r\n\r\n\tServiceHelpers.$inject = ['$resource', '$http', '$location'];\r\n\tfunction ServiceHelpers($resource, $http, $location) {\r\n\t\treturn {\r\n\t\t\tavatarUrl    : function() {\r\n\t\t\t\treturn $resource(\"api/data/:helper/:argues\", {\r\n\t\t\t\t\thelper: '@helper',\r\n\t\t\t\t\targues: '@argues'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tmconf : function(confirmid, itemClass, msg){\r\n\t\t\t\treturn \"\\\r\n\t\t\t<div class='alert-backdrop' id='\"+confirmid+\"'>\\\r\n\t\t\t\t<div class='alert alert-\" + itemClass + \"'>\\\r\n\t\t\t\t<h2>\" + msg + \"</h2>\\\r\n\t\t\t\t<div class='btn-group btn-group-justified' role='group'>\\\r\n\t\t\t\t\t<div class='btn-group' role='group'>\\\r\n\t\t\t\t\t\t<button data-confirm='confirm' type='button' class='btn btn-default'>I'm sure</button>\\\r\n\t\t\t\t\t</div>\\\r\n\t\t\t\t\t<div class='btn-group' role='group'>\\\r\n\t\t\t\t\t\t<button data-confirm='cancel' type='button' class='btn btn-default'>I've changed my mind</button>\\\r\n\t\t\t\t\t</div>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t\t</div>\\\r\n\t\t\t</div>\"\r\n\t\t\t}\r\n\r\n\t\t};\r\n\t}\r\n\r\n})();",";(function() {\r\n\t\"use strict\";\r\n\r\n\tangular.module('dashboardModule')\r\n\t\t.controller('UsersController', UsersController);\r\n\r\n\tUsersController.$inject = [\r\n\t\t'$scope',\r\n\t\t'$http',\r\n\t\t'$routeParams',\r\n\t\t'ServiceHelpers',\r\n\t\t'appConst',\r\n\t\t'$timeout',\r\n\t\t'$compile'\r\n\t];\r\n\tfunction UsersController(\r\n\t\t$scope,\r\n\t\t$http,\r\n\t\t$routeParams,\r\n\t\tServiceHelpers,\r\n\t\tappConst,\r\n\t\t$timeout,\r\n\t\t$compile\r\n\t) {\r\n\r\n\t\t//appConst.csrf\r\n\r\n\t\t$scope.dynamicTemplate = 'ngviews/users/_users.html';\r\n\r\n\t\t$scope.userCanmanage = true;// Temporary\r\n\r\n\t\t$scope.roles = [\r\n\t\t\t{name:'admin', value:'Admin'},\r\n\t\t\t{name:'manager', value:'Manager'},\r\n\t\t\t{name:'customer', value:'Customer'},\r\n\t\t\t{name:'subscriber', value:'Subscriber'},\r\n\t\t];\r\n\r\n\t\t// Create a User\r\n\t\t$scope.addNew = function(){\r\n\t\t\t$http.post('restusers', $scope.newuser)\r\n\t\t\t\t.success(function(data){\r\n\r\n\t\t\t\t\tif(data !== 'fail') {\r\n\t\t\t\t\t\tvar u = data.response.user;\r\n\t\t\t\t\t\tu.gravatarImage = data.response.avatar;\r\n\t\t\t\t\t\tu.role = data.response.role;\r\n\t\t\t\t\t\t$scope.users.push(u);\r\n\r\n\t\t\t\t\t\t$scope.newuser.name =\"\";\r\n\t\t\t\t\t\t$scope.newuser.email =\"\";\r\n\t\t\t\t\t\t$scope.newuser.password =\"\";\r\n\r\n\t\t\t\t\t\tappConst.detachModalEvent('#add-a-user-modal');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t};\r\n\r\n\t\t// Destroy user\r\n\t\t$scope.destroyUser = function (id, $index) {\r\n\r\n\t\t\t$timeout(function() {\r\n\t\t\t\tvar ahtm = ServiceHelpers.mconf('alert-users-warn', 'warning', 'Are you sure?');\r\n\t\t\t\t$(\"body\").prepend($compile(ahtm)($scope));\r\n\t\t\t\tsetTimeout(function() {angular.element('body').find('#alert-users-warn').addClass('show');}, 50);\r\n\r\n\t\t\t\tangular.element('#alert-users-warn').find('[data-confirm=confirm]').on('click', function(){\r\n\r\n\t\t\t\t\t$http.delete('restusers/' + id).then(function(response) {\r\n\r\n\t\t\t\t\t\tif (response.data.status === \"self_del\")\r\n\t\t\t\t\t\t\tappConst.launchModalAlert('danger','You can\\'t delete yourself');\r\n\r\n\t\t\t\t\t\tif (response.data.status === \"success\")\r\n\t\t\t\t\t\t\t$scope.users.splice($index, 1);\r\n\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}, 50);\r\n\r\n\t\t\t//if(!confirm('Are you sure?'))\r\n\t\t\t//\treturn false;\r\n\r\n\r\n\t\t};\r\n\r\n\r\n\t\tif ('user_id' in $routeParams) {\r\n\t\t\t/**\r\n\t\t\t * ==================== Single user ======================\r\n\t\t\t */\r\n\t\t\t$scope.dynamicTemplate = 'ngviews/users/_single_user.html';\r\n\r\n\t\t\t$http.get('api/users/' + $routeParams.user_id)\r\n\t\t\t\t.success(function(user) {\r\n\t\t\t\t\t$scope.user = user;\r\n\t\t\t\t\tuser.meta.forEach(function(mt){\r\n\t\t\t\t\t\tif(mt.meta_key === 'role') {\r\n\t\t\t\t\t\t\tuser.role = mt.meta_value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// Set Avatar\r\n\t\t\t\t\tvar argues = JSON.stringify({ email: user.email, size: 200});\r\n\t\t\t\t\tServiceHelpers.avatarUrl()\r\n\t\t\t\t\t\t.get({ helper: 'user_avatar', argues: argues },\r\n\t\t\t\t\t\t\tfunction(data) {\r\n\t\t\t\t\t\t\t\tuser.gravatarImage = data.avatar_uri;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.error(function() {$scope.user = false;});\r\n\t\t} else {\r\n\t\t\t/**\r\n\t\t\t * ==================== All users ======================\r\n\t\t\t */\r\n\t\t\t$http.get('api/users')\r\n\t\t\t\t.success(function(users) {\r\n\t\t\t\t\t$scope.users = users;\r\n\r\n\t\t\t\t\tangular.forEach($scope.users, function(index){\r\n\t\t\t\t\t\tindex.meta.forEach(function(mt) {\r\n\t\t\t\t\t\t\tif(mt.meta_key === 'role') {\r\n\t\t\t\t\t\t\t\tindex.role = mt.meta_value;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// Set avatar\r\n\t\t\t\t\t\tvar argues = JSON.stringify({ email: index.email, size: 40});\r\n\t\t\t\t\t\tServiceHelpers.avatarUrl()\r\n\t\t\t\t\t\t\t.get({ helper: 'user_avatar', argues: argues },\r\n\t\t\t\t\t\t\t\tfunction(data) {\r\n\t\t\t\t\t\t\t\t\tindex.gravatarImage = data.avatar_uri;\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.error(function() {$scope.users = false;});\r\n\t\t}\r\n\r\n\t}\r\n\r\n})();",";(function() {\r\n\t\"use strict\";\r\n\r\n\tangular.module('dashboardModule')\r\n\t\t.controller('AsideController', AsideController);\r\n\r\n\tAsideController.$inject = ['$scope', '$location'];\r\n\tfunction AsideController($scope, $location) {\r\n\r\n\t\t$scope.isActive = function(path) {\r\n\t\t\treturn $location.path() === path;\r\n\t\t};\r\n\r\n\t\t$scope.isActiveDropdown = function(path) {\r\n\t\t\treturn new RegExp('^' + path, 'i').test($location.path());\r\n\t\t};\r\n\r\n\t}\r\n\r\n})();","jQuery(document).ready(function ($){\r\n\r\n\t/**\r\n\t * ==================== Modal and alerts Alicelf Plugin ======================\r\n\t */\r\n\r\n\t$.fn.waitUntilExists = function(handler, shouldRunHandlerOnce, isChild) {\r\n\t\tvar found = 'found';\r\n\t\tvar $this = $(this.selector);\r\n\t\tvar $elements = $this.not(function() {\r\n\t\t\treturn $(this).data(found);\r\n\t\t}).each(handler).data(found, true);\r\n\r\n\t\tif (!isChild) {\r\n\t\t\t(window.waitUntilExists_Intervals = window.waitUntilExists_Intervals || {})[this.selector] =\r\n\t\t\t\twindow.setInterval(function() {\r\n\t\t\t\t\t$this.waitUntilExists(handler, shouldRunHandlerOnce, true);\r\n\t\t\t\t}, 500)\r\n\t\t\t;\r\n\t\t}\r\n\t\telse\r\n\t\t\tif (shouldRunHandlerOnce && $elements.length) {\r\n\t\t\t\twindow.clearInterval(window.waitUntilExists_Intervals[this.selector]);\r\n\t\t\t}\r\n\r\n\t\treturn $this;\r\n\t};\r\n\r\n\tvar _BODY = document.body,\r\n\t\t_HTML = document.documentElement,\r\n\t\t_DOCUMENT_HEIGHT = Math.max(_BODY.scrollHeight, _BODY.offsetHeight,\r\n\t\t\t_HTML.clientHeight, _HTML.scrollHeight, _HTML.offsetHeight),\r\n\t\t_TOP_OFFSET = document.documentElement.scrollTop || document.body.scrollTop,\r\n\t\t_LEFT_OFFSET = document.documentElement.scrollLeft || document.body.scrollLeft,\r\n\r\n\t\talertHolder = function(itemClass, sendedMessage) {\r\n\t\t\treturn \"<div class='alert alert-\" + itemClass + \"'>\" +\r\n\t\t\t\t\"<button type='button' class='close' data-dismiss='alert' aria-label='Close'>\" +\r\n\t\t\t\t\"<span aria-hidden='true'>&times;</span>\" +\r\n\t\t\t\t\"</button><h3 class='text-center'>\" + sendedMessage + \"</h3></div>\"\r\n\t\t},\r\n\t\tmodalAlert = function(itemClass, msg) {\r\n\t\t\treturn \"<div class='alert-backdrop'><div class='alert alert-\" + itemClass + \"'>\" +\r\n\t\t\t\t\"<p>\" + msg + \"</p></div></div>\"\r\n\t\t},\r\n\t\tlaunchModalAlert = function(itemClass, msg) {\r\n\t\t\tvar bodyselector = $('body');\r\n\t\t\tbodyselector.prepend(modalAlert(itemClass, msg));\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tbodyselector.find('.alert-backdrop').addClass('show');\r\n\t\t\t}, 100);\r\n\t\t},\r\n\t\telemHasClass = function(el, cls) {\r\n\t\t\treturn el.className && new RegExp(\"(\\\\s|^)\" + cls + \"(\\\\s|$)\").test(el.className);\r\n\t\t},\r\n\t\tcapitalize = function(string) {\r\n\t\t\treturn string.charAt(0).toUpperCase() + string.slice(1);\r\n\t\t};\r\n\r\n\t$('[data-modal-trigger]').waitUntilExists(function(){\r\n\t\tvar that = $(this);\r\n\t\tthat.on('click', function(e) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\tvar that = $(this),\r\n\t\t\t\ttype = that.attr('data-modal-trigger'),\r\n\t\t\t\tbody = $('body'),\r\n\t\t\t\trelatedModal = that.attr('data-related-modal');\r\n\r\n\t\t\tbody.find(relatedModal).css({'display': 'block'});\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tbody.find(relatedModal).addClass('show');\r\n\t\t\t}, 10);\r\n\t\t\t$(relatedModal).trigger('aaModalOpened', [type, relatedModal]);\r\n\r\n\t\t});\r\n\t});\r\n\r\n\t/**\r\n\t * ==================== Open modal from event ======================\r\n\t * raizeModalEvent(\"#login-modal\")\r\n\t */\r\n\tvar raizeModalEvent = function(modal) {\r\n\t\tvar relatedTrigger = $('[data-related-modal=\"' + modal + '\"]') || null,\r\n\t\t\ttype = relatedTrigger.length > 0 ? relatedTrigger.attr('data-modal-trigger') : null;\r\n\r\n\t\t$(modal).css({'display': 'block'});\r\n\t\tsetTimeout(function() {\r\n\t\t\t$(modal).addClass('show');\r\n\t\t}, 10);\r\n\r\n\t\t$(window).trigger('aaModalOpened', [type, relatedTrigger]);\r\n\t};\r\n\r\n\t/**\r\n\t * ==================== Remove Modal ======================\r\n\t * detachModalEvent(\"#login-modal\")\r\n\t */\r\n\tvar detachModalEvent = function(modal) {\r\n\t\tvar modalOverlay = $(modal),\r\n\t\t\trelatedTrigger = $('[data-related-modal=\"' + modal + '\"]') || null,\r\n\t\t\ttype = relatedTrigger.length > 0 ? relatedTrigger.attr('data-modal-trigger') : null;\r\n\r\n\t\tmodalOverlay.removeClass('show');\r\n\t\tsetTimeout(function() {\r\n\t\t\tmodalOverlay.css('display', 'none');\r\n\t\t\t$(window).trigger('aaModalClosed', [type, relatedTrigger])\r\n\t\t}, 300);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * ==================== Close modal button ======================\r\n\t * closeParentModal(\"#login-modal\")\r\n\t */\r\n\tvar closeParentModal = function(modal) {\r\n\t\tvar closeTrigger = $('[data-destroy-modal=\"' + modal + '\"]'),\r\n\t\t\tmodalOverlay = $(closeTrigger.attr('data-destroy-modal'));\r\n\r\n\t\tcloseTrigger.on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tmodalOverlay.removeClass('show');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmodalOverlay.css('display', 'none');\r\n\t\t\t\t$(window).trigger('aaModalClosed');\r\n\t\t\t}, 300);\r\n\t\t});\r\n\r\n\t};\r\n\r\n\tvar closeTrigger = $('[data-destroy-modal]');\r\n\r\n\tcloseTrigger.waitUntilExists(function(){\r\n\t\tvar that = $(this);\r\n\t\tthat.on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar that = $(this),\r\n\t\t\t\tmodalOverlay = $(that.attr('data-destroy-modal'));\r\n\r\n\t\t\tmodalOverlay.removeClass('show');\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tmodalOverlay.css('display', 'none');\r\n\t\t\t\t$(window).trigger('aaModalClosed');\r\n\t\t\t}, 300);\r\n\t\t});\r\n\t});\r\n\r\n\r\n\t$('.modal-backdrop[itemscope=\"aa-modal\"]').waitUntilExists(function() {\r\n\t\tvar that = $(this);\r\n\t\tthat.on('click', function(e) {\r\n\t\t\tif (elemHasClass(e.target, 'modal-backdrop')) {\r\n\t\t\t\tthat.removeClass('show');\r\n\t\t\t\t$(window).trigger('aaModalClosed');\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.css({'display': 'none'});\r\n\t\t\t\t}, 400);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(window).on('aaModalOpened', function(e) {\r\n\t\t$(_BODY).addClass('aa-modal-overlay');\r\n\t});\r\n\r\n\t$(window).on('aaModalClosed', function(e) {\r\n\t\t$(_BODY).removeClass('aa-modal-overlay');\r\n\t});\r\n\r\n\t$('.alert-backdrop').waitUntilExists(function() {\r\n\t\tvar that = $(this);\r\n\t\tthat.on('click', function(e) {\r\n\t\t\tconsole.log(e.target);\r\n\t\t\tif (elemHasClass(e.target, 'alert-backdrop') || $(e.target).attr('data-confirm')) {\r\n\t\t\t\tthat.removeClass('show');\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tthat.remove();\r\n\t\t\t\t}, 300);\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t//raizeModalEvent(\"#login-modal\");\r\n\t//setTimeout(function(){\r\n\t//\tdetachModalEvent(\"#login-modal\");\r\n\t//}, 3000);\r\n\t//$(window).on('aaModalOpened', function(e, type, relatedModal){\r\n\t//\tconsole.log(e, type, relatedModal);\r\n\t//});\r\n\r\n\t// !Modals and alerts ends\r\n\r\n\r\n});"],"sourceRoot":"/source/"}